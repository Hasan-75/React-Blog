(this["webpackJsonpreact-blog"]=this["webpackJsonpreact-blog"]||[]).push([[0],{13:function(e,t,c){},14:function(e,t,c){},16:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),i=c(8),l=c.n(i),a=(c(13),c(14),c(5)),r=c(0),o=function(e){var t=e.blogs,c=e.handleLikeBlog;return Object(r.jsx)("div",{className:"blog-list",children:t.map((function(e){return Object(r.jsx)("div",{className:"blog-item",children:Object(r.jsxs)(a.b,{to:"blogs/".concat(e.id),children:[Object(r.jsx)("div",{className:"title",children:e.title}),Object(r.jsx)("div",{className:"body",children:e.body}),Object(r.jsxs)("div",{className:"like-section",children:[Object(r.jsx)("button",{onClick:function(){return c(e.id)},children:"Like"}),Object(r.jsxs)("p",{children:[e.likes," people liked"]})]})]})},e.id)}))})},j=c(3),b=function(e){var t=Object(n.useState)(null),c=Object(j.a)(t,2),s=c[0],i=c[1],l=Object(n.useState)(!0),a=Object(j.a)(l,2),r=a[0],o=a[1],b=Object(n.useState)(null),d=Object(j.a)(b,2),h=d[0],u=d[1];return Object(n.useEffect)((function(){var t=new AbortController;return setTimeout((function(){fetch(e,{signal:t.signal}).then((function(t){if(t.ok)return t.json();throw Error("Failed to fetch data from url: ".concat(e))})).then((function(e){u(null),i(e),o(!1)})).catch((function(e){u(e.message),o(!1)}))}),500),function(){return t.abort()}}),[e]),{data:s,isLoading:r,error:h}},d=function(){var e=b("http://localhost:8000/blogs"),t=e.data,c=e.isLoading,n=e.error;return Object(r.jsxs)("div",{className:"home",children:[Object(r.jsx)("h1",{children:"This is a sample Home component"}),n&&Object(r.jsx)("div",{className:"error",children:n}),c&&Object(r.jsx)("div",{className:"loading",children:"Loading..."}),t&&Object(r.jsx)(o,{blogs:t,handleLikeBlog:function(){alert("Not implemented yet")}})]})},h=function(){return Object(r.jsx)("nav",{className:"navbar",children:Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:Object(r.jsx)(a.b,{to:"/",children:"Home"})}),Object(r.jsx)("li",{children:Object(r.jsx)(a.b,{to:"/create",children:"Add New Blog"})})]})})},u=c(2),O=function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),c=t[0],s=t[1],i=Object(n.useState)(""),l=Object(j.a)(i,2),a=l[0],o=l[1],b=Object(n.useState)(!1),d=Object(j.a)(b,2),h=d[0],O=d[1],x=Object(u.f)();return Object(r.jsxs)("div",{className:"create-blog",children:[Object(r.jsx)("h3",{children:"Create a new blog"}),Object(r.jsxs)("form",{onSubmit:function(e){e.preventDefault(),O(!0);var t={title:c,body:a,likes:0};fetch("http://localhost:8000/blogs",{method:"Post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(){O(!1),x("/")}))},children:[Object(r.jsx)("label",{children:"Blog Title:"}),Object(r.jsx)("input",{type:"text",value:c,onChange:function(e){return s(e.target.value)},placeholder:"Title of your Blog..."}),Object(r.jsx)("label",{children:"Body:"}),Object(r.jsx)("textarea",{value:a,onChange:function(e){return o(e.target.value)},placeholder:"Write something..."}),h?Object(r.jsx)("input",{type:"submit",disabled:!0,value:"Submitting..."}):Object(r.jsx)("input",{type:"submit",value:"Submit"})]})]})},x=function(){return Object(r.jsxs)("div",{className:"not-found",children:[Object(r.jsx)("h1",{children:"404 Not Found"}),Object(r.jsx)("h2",{children:"Sorry, the page you're looking for is not available."}),Object(r.jsx)("h3",{children:Object(r.jsx)(a.b,{to:"/",children:"Back to Homepage"})})]})},m=function(){var e=Object(u.g)().id,t=b("http://localhost:8000/blogs/".concat(e)),c=t.data,n=t.isLoading,s=t.error;return Object(r.jsxs)("div",{className:"blog-detail",children:[n&&Object(r.jsx)("div",{className:"loading",children:"Loading..."}),c&&Object(r.jsx)("h1",{children:c.title}),Object(r.jsx)("hr",{}),c&&Object(r.jsx)("p",{className:"body",children:c.body}),s&&Object(r.jsx)(x,{})]})};var g=function(){return Object(r.jsx)(a.a,{children:Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(h,{}),Object(r.jsx)("div",{className:"container",children:Object(r.jsxs)(u.c,{children:[Object(r.jsx)(u.a,{path:"/",element:Object(r.jsx)(d,{})}),Object(r.jsx)(u.a,{path:"/create",element:Object(r.jsx)(O,{})}),Object(r.jsx)(u.a,{path:"/blogs/:id",element:Object(r.jsx)(m,{})}),Object(r.jsx)(u.a,{path:"*",element:Object(r.jsx)(x,{})})]})})]})})};l.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(g,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.526b7ee5.chunk.js.map